# Cursor Rules for godot-agent

See `CLAUDE.md` for comprehensive project documentation including skills, troubleshooting, and lessons learned.

## Response Style

### After Making Changes
Always provide a commit message in a code block after completing changes:

```
type(scope): short description

Optional longer explanation of what changed and why.
```

Types: `fix`, `feat`, `docs`, `ci`, `build`, `chore`, `refactor`

### Code Blocks
- Use fenced code blocks with language identifiers
- For shell commands users should copy, use ```bash blocks

## Quick Pattern Reference

### Docker Compose
- Modern syntax: `deploy.resources.limits.pids` (not legacy `pids_limit`)
- Default env vars to empty: `${VAR:-}` (suppresses CI warnings)

### Python
- **Always use `uv`** - never bare `pip` commands
- `uv pip install`, `uv venv`, `uv run`

### Claude Code Configuration
- MCP servers → `~/.claude.json`
- Settings/permissions → `~/.claude/settings.json`
- `GITHUB_PERSONAL_ACCESS_TOKEN` in MCP config = GitHub App installation token (MCP tools only)

### Security
- Never expose secrets in shell history
- Minimal permissions by default
- See `CLAUDE.md` > Lessons Learned for common pitfalls

## Key References in CLAUDE.md

| Topic | Section |
|-------|---------|
| First-time setup | Skills > First-Time Setup |
| GitHub auth (host vs sandbox) | Skills > GitHub Authentication |
| When things break | Skills > Emergency Recovery |
| Common errors | Common Issues table |
| Past critical bugs | Lessons Learned #1-7 |
